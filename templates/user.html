{% extends "base.html" %}
{% block title %} user {% if user %} {{ user.username }}{% endif %} {% endblock title %}

{% block content %}

<h1 class="lead my-3">user</h1>

{% if user %}
<div class="card p-3">
	<div class="card-body mt-2">
	<ul class="list-group list-group-flush">
		<li class="list-group-item">id: {{ user.id }}</li>
		<li class="list-group-item">email: {{ user.email }}</li>
		<li class="list-group-item">username: {{ user.username }}</li>
		<li class="list-group-item">created_at: {{ user.created_at }}</li>
		<li class="list-group-item">updated_at: {{ user.updated_at }}</li>
	</ul>
	</div>

	<div class="card-footer mt-2">
    <a class="btn btn-outline-primary btn-sm me-2" href="/account/update" role="button">
        <i class="bi bi-pencil"></i> &raquo;
    </a>
    <a class="btn btn-outline-danger btn-sm" href="/account/delete-user" role="button">
        <i class="bi bi-trash3"></i> &raquo;
    </a>
	</div>
</div>

<h2 class="lead my-2">comments</h2>

<form class="card" method="POST">

    <div class="card-body">
        <input type="hidden" name="whose" value="users-{{ user.username }}" />
        <sup class="float-start">msg</sup>
        <input
            class="form-control my-2"
            type="text"
            name="comment"
        />
	</div>

	<div class="card-footer action-buttons">
	<input type="submit" value="submit" class="btn btn-sm btn-outline-primary mt-2">
	</div>

</form>

{% if comments %}
<ul class="list-group list-group-flush">
    {% for i in comments %}
        <li class="list-group-item">
        	<sup class="">{{ i.comment_on.name }}</sup>
            <p>{{ i.comment_on.msg }}</p>
        </li>
    {% endfor %}
</ul>
{% endif %}

{% endif %}
{% endblock content %}